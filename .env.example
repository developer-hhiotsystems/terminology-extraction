# Glossary App Environment Configuration
# Copy this file to .env and fill in your values

# ============================================================================
# Application Settings
# ============================================================================
APP_NAME=Glossary App
APP_VERSION=1.0.0
ENVIRONMENT=development  # development, staging, production
DEBUG=true

# ============================================================================
# Server Configuration
# ============================================================================
API_HOST=0.0.0.0
API_PORT=9123
API_WORKERS=4
RELOAD=true  # Set to false in production

# ============================================================================
# Database
# ============================================================================
DATABASE_URL=sqlite:///data/glossary.db
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20

# ============================================================================
# Logging
# ============================================================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_DIR=logs
LOG_FORMAT=json  # json or text
LOG_MAX_BYTES=10485760  # 10 MB
LOG_BACKUP_COUNT=10

# ============================================================================
# Security
# ============================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-here-change-in-production

# CORS Settings
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173
ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH
ALLOWED_HEADERS=*

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60  # seconds

# ============================================================================
# Backup Configuration
# ============================================================================
BACKUP_ENABLED=true
BACKUP_DIR=backups
BACKUP_RETENTION_DAYS=30
BACKUP_COMPRESS=true
BACKUP_VERIFY=true

# Backup Schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# ============================================================================
# Health Monitoring
# ============================================================================
HEALTH_CHECK_ENABLED=true

# Disk Space Thresholds
DISK_WARNING_THRESHOLD_GB=5.0
DISK_CRITICAL_THRESHOLD_GB=1.0

# Memory Thresholds
MEMORY_WARNING_THRESHOLD_PERCENT=85.0
MEMORY_CRITICAL_THRESHOLD_PERCENT=95.0

# ============================================================================
# Error Tracking (Sentry)
# ============================================================================
SENTRY_ENABLED=false
SENTRY_DSN=  # https://your-dsn@sentry.io/project-id
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_ENVIRONMENT=development

# ============================================================================
# NLP / spaCy
# ============================================================================
SPACY_MODEL=en_core_web_sm
NLP_BATCH_SIZE=100
NLP_MIN_CONFIDENCE=0.5

# ============================================================================
# Full-Text Search (FTS5)
# ============================================================================
FTS_ENABLED=true
FTS_SNIPPET_LENGTH=200
FTS_MAX_RESULTS=100

# ============================================================================
# File Upload
# ============================================================================
UPLOAD_MAX_SIZE_MB=50
UPLOAD_ALLOWED_EXTENSIONS=.pdf,.txt,.docx
UPLOAD_DIR=uploads

# ============================================================================
# Frontend URL (for CORS and redirects)
# ============================================================================
FRONTEND_URL=http://localhost:3000

# ============================================================================
# Performance
# ============================================================================
# Request timeout (seconds)
REQUEST_TIMEOUT=30

# Connection pool
CONNECTION_POOL_SIZE=20

# Cache settings
CACHE_ENABLED=false
CACHE_TTL=300  # seconds
CACHE_MAX_SIZE=1000

# ============================================================================
# Monitoring & Metrics
# ============================================================================
METRICS_ENABLED=true
METRICS_PORT=9124

# Prometheus
PROMETHEUS_ENABLED=false
PROMETHEUS_ENDPOINT=/metrics

# ============================================================================
# Email Notifications (Optional)
# ============================================================================
EMAIL_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-password
SMTP_FROM=glossary-app@example.com
SMTP_TO=admin@example.com

# ============================================================================
# Development Tools
# ============================================================================
# Auto-reload on code changes
AUTO_RELOAD=true

# Show detailed error pages
SHOW_ERROR_DETAILS=true

# API documentation
DOCS_ENABLED=true
DOCS_URL=/docs
REDOC_URL=/redoc

# ============================================================================
# Production Optimizations
# ============================================================================
# Gzip compression
GZIP_ENABLED=true
GZIP_MINIMUM_SIZE=1000

# Response caching
RESPONSE_CACHE_ENABLED=false

# Database query optimization
QUERY_LOGGING=false
SLOW_QUERY_THRESHOLD_MS=1000
